---------------------
PatchSet 4272 
Date: 2004/07/20 11:08:30
Author: andersen
Branch: HEAD
Tag: busybox_1_00_rc1 
Log:
Update for release

Members: 
	docs/busybox.net/news.html:1.14->1.15 
	docs/busybox.net/shame.html:1.17->1.18 

---------------------
PatchSet 4273 
Date: 2004/07/20 11:23:45
Author: andersen
Branch: HEAD
Tag: (none) 
Log:
cut-n-paste strikes again

Members: 
	docs/busybox.net/news.html:1.15->1.16 

---------------------
PatchSet 4274 
Date: 2004/07/20 11:31:08
Author: andersen
Branch: HEAD
Tag: (none) 
Log:
more doc updates

Members: 
	docs/busybox.net/news.html:1.16->1.17 

---------------------
PatchSet 4275 
Date: 2004/07/20 11:31:52
Author: andersen
Branch: HEAD
Tag: (none) 
Log:
Yet more doc updates

Members: 
	docs/busybox.net/news.html:1.17->1.18 

---------------------
PatchSet 4276 
Date: 2004/07/20 11:41:16
Author: andersen
Branch: HEAD
Tag: (none) 
Log:
oops

Members: 
	docs/busybox.net/news.html:1.18->1.19 

---------------------
PatchSet 4277 
Date: 2004/07/20 15:43:57
Author: sandman
Branch: HEAD
Tag: (none) 
Log:
new_process_module_arguments returns 0 on error and 1 if everything went ok
somehow the ! got lost..
symptoms: modules could only be loaded _without_ parameters

Members: 
	modutils/insmod.c:1.121->1.122 

---------------------
PatchSet 4278 
Date: 2004/07/20 18:36:51
Author: sandman
Branch: HEAD
Tag: (none) 
Log:
Patch from Mike Snitzer <snitzer@gmail.com>:
Please see the attached patch for the following crash with busybox'
2.6 rmmod support

Members: 
	modutils/rmmod.c:1.30->1.31 

---------------------
PatchSet 4279 
Date: 2004/07/20 22:53:59
Author: andersen
Branch: HEAD
Tag: (none) 
Log:
Avoid a naming conflict with include/bits/fcntl.h

Members: 
	miscutils/hdparm.c:1.15->1.16 

---------------------
PatchSet 4280 
Date: 2004/07/21 09:00:39
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
Fixup -T (--files-from) option, works for non-directories now

Members: 
	archival/tar.c:1.192->1.193 

---------------------
PatchSet 4281 
Date: 2004/07/21 10:20:19
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
Patch from Jean Wolter, fixes compiler warning when ASH_ALIAS is
disabled.

Members: 
	shell/ash.c:1.101->1.102 

---------------------
PatchSet 4282 
Date: 2004/07/21 12:21:39
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
Patch from Mike Snitzer, bring down dhclient using its correct pid, fix
a grammatical error.

Members: 
	networking/ifupdown.c:1.40->1.41 

---------------------
PatchSet 4283 
Date: 2004/07/21 12:25:55
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
Patch from Tito, ass usage for strings -a options

Members: 
	include/usage.h:1.213->1.214 

---------------------
PatchSet 4284 
Date: 2004/07/21 13:06:30
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
Fix bug in accepting buffer size argument

Members: 
	sysklogd/syslogd.c:1.111->1.112 

---------------------
PatchSet 4285 
Date: 2004/07/21 23:56:31
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
Patch from Mike Snitzer to fix return codes.

"I have a need to _really_ know if the interface was properly configured
via ifup so I made busybox's ifupdown pass the return codes through rather
than dropping them on the floor."

"All the functions in ifupdown.c return 1 on success and 0 on failure
(which happens to the opposite of standard practices but whatever).
So it is important for all these functions to not blindly return 1."

"The problem with blindly returning ret, even if it is != 1, is the
callers expect a 0 or 1 and accumulate the return codes.  So a function that
makes 3 calls to execute will have a value of 3 accumulated.  That value
of 1 (success) was almost always returned even if 1 of the commands in the
command sequence failed.  The attached patch fixes the lack of checking
to verify thar result == expected_reult."

Members: 
	networking/ifupdown.c:1.41->1.42 

---------------------
PatchSet 4286 
Date: 2004/07/22 00:03:39
Author: sandman
Branch: HEAD
Tag: (none) 
Log:
Patch from Mike Snitzer <snitzer@gmail.com>:
Support for /etc/modprobe.conf (for 2.6 kernels) should likely be added
to bb's modprobe, see attached patch.

modprobe.conf is just a (even simpler) variant of modules.conf

Members: 
	modutils/modprobe.c:1.32->1.33 

---------------------
PatchSet 4287 
Date: 2004/07/22 04:23:18
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
Reverse my previous change, "::" is a GNU getopt extension that allows
an optional argument.
Looks like a glibc bug to me

Members: 
	sysklogd/syslogd.c:1.112->1.113 

---------------------
PatchSet 4288 
Date: 2004/07/23 01:10:22
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
Patch from Manousaridis Angelos to bring dhclient down more elegently

Members: 
	networking/ifupdown.c:1.42->1.43 

---------------------
PatchSet 4289 
Date: 2004/07/23 01:20:57
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
Patch from Adam Slattery to add bzip2 support to rpm2cpio

Members: 
	patches/rpm2cpio_bzip2.patch:INITIAL->1.1 

---------------------
PatchSet 4290 
Date: 2004/07/23 01:27:56
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
Patch from Felipe Kellermann to fix some typo's

Members: 
	include/usage.h:1.214->1.215 

---------------------
PatchSet 4291 
Date: 2004/07/23 01:35:41
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
Patch from Felipe Kellermann, "There is a call to printf using `*pr-cchar'
referencing a string and using a single char, when *p <= 0x1f."

Members: 
	libbb/dump.c:1.12->1.13 

---------------------
PatchSet 4292 
Date: 2004/07/23 01:42:28
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
Felipe Kellermann writes,

"As noticed today by Steven Scholz, the od's `-v' was broken.
I've fixed that and now both the flags `-v' and `-a' are OK"

Fixes a segfault in
echo "uuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu\02bar\4"| ./busybox od -av

Members: 
	coreutils/od.c:1.6->1.7 

---------------------
PatchSet 4293 
Date: 2004/07/23 01:49:46
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
Fix for a bug identied by Harald Kuthe, when using many interfaces (29 
in this case) the order was incorrect and there were duplicate entries.

Members: 
	libbb/interface.c:1.22->1.23 

---------------------
PatchSet 4294 
Date: 2004/07/23 02:11:25
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
Patch from Dmitry Zakharov to fix a bug discovered via the freeswap
script.

Members: 
	editors/awk.c:1.8->1.9 

---------------------
PatchSet 4295 
Date: 2004/07/23 03:33:38
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
iUpdate reboot usage, patch by  Felipe Kellermann

Members: 
	include/usage.h:1.215->1.216 

---------------------
PatchSet 4296 
Date: 2004/07/23 05:16:17
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
Patch from Felipe Kellermann, fixup usage for halt command

Members: 
	include/usage.h:1.216->1.217 

---------------------
PatchSet 4297 
Date: 2004/07/23 06:06:21
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
Patch from Felipe Kellermann, fixup usage for pidof, poweroff, remove 
some trailing '\n'

Members: 
	include/usage.h:1.217->1.218 

---------------------
PatchSet 4298 
Date: 2004/07/23 06:43:29
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
Patch from Felipe Kellermann, fix endless loop when first > last and
increment > 0.

Members: 
	coreutils/seq.c:1.2->1.3 

---------------------
PatchSet 4299 
Date: 2004/07/24 01:55:56
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
Update Tito's contributions

Members: 
	AUTHORS:1.44->1.45 

---------------------
PatchSet 4300 
Date: 2004/07/24 06:01:52
Author: bug1
Branch: HEAD
Tag: (none) 
Log:
Patch by Paul Whittaker, make busybox dc compatable with GNU dc.
the following example was broken, echo "1 1 +" | dc

Members: 
	miscutils/dc.c:1.18->1.19 

---------------------
PatchSet 4301 
Date: 2004/07/24 12:44:13
Author: andersen
Branch: HEAD
Tag: (none) 
Log:
Paul Whittaker writes:

With job control enabled, ash fails to tcsetpgrp back to initialpgrp
upon exit.  exitshell() should call setjobctl(0) to do this.

Context: I am using a lightweight menu system (replimenu[.sf.net]) on my
console, which invokes "/bin/sh -i -c /bin/login", where /bin/sh and
/bin/login are busybox applets.   /bin/sh is ash, with
CONFIG_ASH_JOB_CONTROL=y as the sole suboption.  The shell of the user
concerned (nobody) is also /bin/sh (ash).  When the user /bin/sh exits
(and thereby login and its parent sh), replimenu receives EIO when it
tries to read from the terminal.

Members: 
	shell/ash.c:1.102->1.103 

---------------------
PatchSet 4302 
Date: 2004/07/26 11:46:21
Author: andersen
Branch: HEAD
Tag: (none) 
Log:
YAEGASHI Takeshi writes:

Hi,

With the following /etc/fstab (any two or more lines of nfs), mount -a
-t nfs causes a segmentation faults.

server:/exports/aaa /mnt/aaa nfs defaults 0 0
server:/exprots/bbb /mnt/bbb nfs defaults 0 0

In util-linux/nfsmount.c, it overwrites malloc'ed pointer *mount_opts
with a static pointer.  With this patch it does proper memory realloc
and data copy instead.

Members: 
	util-linux/nfsmount.c:1.27->1.28 

---------------------
PatchSet 4303 
Date: 2004/07/26 11:55:23
Author: andersen
Branch: HEAD
Tag: busybox_1_00_rc2 
Log:
Update webpage for -rc2

Members: 
	docs/busybox.net/news.html:1.19->1.20 

